/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/@tiptap/extension-mention@2.11.2/dist/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@tiptap/core"),require("@tiptap/pm/state"),require("@tiptap/suggestion")):"function"==typeof define&&define.amd?define(["exports","@tiptap/core","@tiptap/pm/state","@tiptap/suggestion"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@tiptap/extension-mention"]={},e.core,e.state,e.Suggestion)}(this,(function(e,t,n,i){"use strict";const o=new n.PluginKey("mention"),r=t.Node.create({name:"mention",priority:101,addOptions(){return{HTMLAttributes:{},renderText({options:e,node:t}){var n;return`${e.suggestion.char}${null!==(n=t.attrs.label)&&void 0!==n?n:t.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:e,node:n}){var i;return["span",t.mergeAttributes(this.HTMLAttributes,e.HTMLAttributes),`${e.suggestion.char}${null!==(i=n.attrs.label)&&void 0!==i?i:n.attrs.id}`]},suggestion:{char:"@",pluginKey:o,command:({editor:e,range:t,props:n})=>{var i,o,r;const s=e.view.state.selection.$to.nodeAfter;(null===(i=null==s?void 0:s.text)||void 0===i?void 0:i.startsWith(" "))&&(t.to+=1),e.chain().focus().insertContentAt(t,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),null===(r=null===(o=e.view.dom.ownerDocument.defaultView)||void 0===o?void 0:o.getSelection())||void 0===r||r.collapseToEnd()},allow:({state:e,range:t})=>{const n=e.doc.resolve(t.from),i=e.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(i)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}),parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:n}){if(void 0!==this.options.renderLabel)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",t.mergeAttributes({"data-type":this.name},this.options.HTMLAttributes,n),this.options.renderLabel({options:this.options,node:e})];const i={...this.options};i.HTMLAttributes=t.mergeAttributes({"data-type":this.name},this.options.HTMLAttributes,n);const o=this.options.renderHTML({options:i,node:e});return"string"==typeof o?["span",t.mergeAttributes({"data-type":this.name},this.options.HTMLAttributes,n),o]:o},renderText({node:e}){return void 0!==this.options.renderLabel?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel({options:this.options,node:e})):this.options.renderText({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((({tr:e,state:t})=>{let n=!1;const{selection:i}=t,{empty:o,anchor:r}=i;return!!o&&(t.doc.nodesBetween(r-1,r,((t,i)=>{if(t.type.name===this.name)return n=!0,e.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",i,i+t.nodeSize),!1})),n)}))}},addProseMirrorPlugins(){return[i({editor:this.editor,...this.options.suggestion})]}});e.Mention=r,e.MentionPluginKey=o,e.default=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/eee7f0ab05d1736f368c7062decf86775423bcf24a055aae8230bcca639cde3c.map